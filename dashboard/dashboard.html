<!DOCTYPE html>
<html lang="pt-BR">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
            content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <title>NaRégua - Dashboard do Barbeiro</title>
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
        <link rel="stylesheet" href="css/dashboard.css">
        <link rel="icon" type="image/x-icon" href="/favicon/favicon.png">
    </head>

    <body>
        <button id="macSidebarHamburger" class="mac-sidebar-hamburger"
            aria-label="Abrir menu" type="button">
            <span></span><span></span><span></span>
        </button>
        <div id="globalCopySuccessMsg" class="global-copy-success"
            style="display:none;">
            <i class="fas fa-check-circle"></i> Link copiado!
        </div>
        <header>
            <div class="container">
                <nav class="navbar">
                    <div class="logo">
                        <div class="logo-text">NA<span>RÉGUA</span><span
                                class="highlight">.</span></div>
                    </div>
                    <div class="nav-links">
                        <div class="notification-btn-wrapper">
                            <button class="theme-toggle" id="notificationBtn"
                                title="Notificações">
                                <i class="fas fa-bell"></i>
                                <span id="notificationDot"></span>
                            </button>
                        </div>
                        <button class="theme-toggle" id="changePasswordBtn"
                            title="Alterar senha">
                            <i class="fas fa-key"></i>
                        </button>
                        <button class="theme-toggle" id="themeToggle">
                            <i class="fas fa-moon"></i>
                        </button>
                    </div>
                </nav>
            </div>
        </header>

        <!-- Adicione logo após <body> -->
        <div class="mac-sidebar">
            <div class="mac-sidebar-items">
                <div class="mac-sidebar-item">
                    <button class="mac-sidebar-btn active" data-section="painel"
                        title="Painel">
                        <i class="fas fa-tachometer-alt"></i>
                    </button>
                    <span class="mac-sidebar-label">Painel</span>
                </div>
                <div class="mac-sidebar-item">
                    <button class="mac-sidebar-btn" data-section="agendamentos"
                        title="Agendamentos">
                        <i class="fas fa-calendar-alt"></i>
                    </button>
                    <span class="mac-sidebar-label">Agendamentos</span>
                </div>
                <div class="mac-sidebar-item">
                    <button class="mac-sidebar-btn" data-section="servicos"
                        title="Serviços">
                        <i class="fas fa-cut"></i>
                    </button>
                    <span class="mac-sidebar-label">Serviços</span>
                </div>
                <div class="mac-sidebar-item">
                    <button class="mac-sidebar-btn" data-section="horarios"
                        title="Horários">
                        <i class="fas fa-clock"></i>
                    </button>
                    <span class="mac-sidebar-label">Horários</span>
                </div>
                <div class="mac-sidebar-item">
                    <button class="mac-sidebar-btn" data-section="folgas"
                        title="Folgas">
                        <i class="fas fa-calendar-times"></i>
                    </button>
                    <span class="mac-sidebar-label">Folgas</span>
                </div>
                <div class="mac-sidebar-item">
                    <button class="mac-sidebar-btn" data-section="barbearia"
                        title="Barbearia">
                        <i class="fas fa-store"></i>
                    </button>
                    <span class="mac-sidebar-label">Barbearia</span>
                </div>
                <div class="mac-sidebar-item">
                    <button class="mac-sidebar-btn" data-section="alertas"
                        title="Alertas">
                        <i class="fas fa-bell"></i>
                    </button>
                    <span class="mac-sidebar-label">Alertas</span>
                </div>
                <div class="mac-sidebar-item">
                    <button class="mac-sidebar-btn" data-section="compartilhar"
                        title="Compartilhar Link">
                        <i class="fas fa-share-alt"></i>
                    </button>
                    <span class="mac-sidebar-label">Compartilhar</span>
                </div>
            </div>
            <div class="mac-sidebar-bottom">
                <div class="mac-sidebar-item">
                    <button class="mac-sidebar-btn" id="logoutBtn" title="Sair">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                    <span class="mac-sidebar-label">Sair</span>
                </div>
            </div>
        </div>
        <div id="macSidebarOverlay" class="mac-sidebar-overlay"></div>
        <main class="container">
            <section class="dashboard-section animate-fade-in"
                style="padding-bottom: 0;">
                <div class="dashboard-header"
                    style="display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; margin-bottom: 18px;">
                    <h2 class="section-title" style="margin-bottom: 0;">
                        <i class="fas fa-tachometer-alt"></i> Painel de Controle
                    </h2>
                    <span class="dashboard-date"
                        style="font-size: 1.08rem; color: var(--primary-dark); font-weight: 600;">
                        <i class="far fa-calendar-alt"></i>
                        <span id="dashboardTodayDate"></span>
                    </span>
                </div>
                <div class="stats-container"
                    style="gap: 24px; margin-bottom: 0;">
                    <div class="stat-card stat-card--main">
                        <div class="stat-icon"><i
                                class="fas fa-calendar-day"></i></div>
                        <div>
                            <div class="stat-value"
                                id="today-appointments">0</div>
                            <div class="stat-label">Agendamentos de hoje</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i
                                class="fas fa-calendar-week"></i></div>
                        <div>
                            <div class="stat-value"
                                id="week-appointments">0</div>
                            <div class="stat-label">Semana</div>
                        </div>
                    </div>
                    <div class="stat-card stat-card--month">
    <div class="stat-icon"><i class="fas fa-calendar"></i></div>
    <div>
        <div class="stat-value" id="month-appointments">0</div>
        <div class="stat-label">Mês</div>
    </div>
    <button id="downloadMonthPDF" class="btn btn-primary pdf-round-btn" title="Baixar PDF dos concluídos">
        <i class="fas fa-file-pdf"></i>
    </button>
</div>
                    <div class="stat-card">
                        <div class="stat-icon"><i
                                class="fas fa-users"></i></div>
                        <div>
                            <div class="stat-value" id="total-clients">0</div>
                            <div class="stat-label">Total de clientes</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i
                                class="fas fa-list-ol"></i></div>
                        <div>
                            <div class="stat-value"
                                id="total-appointments">0</div>
                            <div class="stat-label">Total de agendamentos</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Próximos Agendamentos -->
            <section class="dashboard-section animate-slide-up">
                <div class="card-header">
                    <h2 class="section-title"><i
                            class="fas fa-calendar-alt"></i> Próximos
                        Agendamentos
                    </h2>
                    <div class="appointments-filter"
                        style="display:flex;align-items:center;gap:12px;flex-wrap:wrap;">
                        <div style="display:flex;gap:4px;">
                            <button class="filter-btn active"
                                data-filter="today"><i
                                    class="fas fa-calendar-day"></i>
                                Hoje</button>
                            <button class="filter-btn" data-filter="week"><i
                                    class="fas fa-calendar-week"></i>
                                Semana</button>
                            <button class="filter-btn" data-filter="month"><i
                                    class="fas fa-calendar"></i> Mês</button>
                        </div>
                        <div class="dashboard-appointments-filter">
                            <label
                                for="dashboardAppointmentsStatusFilter">Status:</label>
                            <select id="dashboardAppointmentsStatusFilter">
                                <option value="all">Todos</option>
                                <option value="confirmed">Confirmados</option>
                                <option value="cancelled">Cancelados</option>
                                <option value="completed">Concluídos</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="appointments-list" id="filteredAppointmentsList">
                    <!-- Agendamentos filtrados aparecerão aqui -->
                </div>
                <div id="lista-agendamentos"></div>
            </section>

            <section class="dashboard-section animate-slide-up"
                id="services-section">
                <div
                    style="display:flex;align-items:center;justify-content:space-between;margin-bottom:18px;">
                    <h2 class="section-title"><i class="fas fa-cut"></i>
                        Serviços oferecidos</h2>
                    <button id="addServiceBtn" class="edit-btn"
                        style="margin-left:12px;">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <div id="servicesContainer" class="services-container"></div>
            </section>

            <section class="dashboard-section animate-slide-up">
                <div class="card-header">
                    <h2 class="section-title"><i class="fas fa-share-alt"></i>
                        Compartilhar Link de Agendamento</h2>
                </div>
                <div class="share-link-container-modern">
                    <div class="share-link-info">
                        <div class="share-link-label">
                            <i class="fas fa-link"></i> Link para agendamento
                            online
                        </div>
                        <div class="share-link-field">
                            <input type="text" id="bookingLink"
                                class="share-link-input-modern" readonly
                                value="https://naregua-barberapp-2.onrender.com/" />
                            <button class="btn-copy-modern"
                                id="copyBookingLinkBtn" title="Copiar link">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>
                    <span class="copy-success-modern" id="copySuccessMsg"
                        style="display:none;">
                        <i class="fas fa-check-circle"></i> Link copiado!
                    </span>
                </div>
            </section>

            <section class="dashboard-section animate-slide-up"
                id="horarios-section">
                <div
                    style="display:flex;align-items:center;justify-content:space-between;margin-bottom:18px;">
                    <h2 class="section-title"><i class="fas fa-clock"></i>
                        Horários de Atendimento</h2>
                </div>
            </div>
            <div class="working-hours" id="workingHoursGrid"
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(270px, 1fr)); gap: 18px; margin-top: 10px;">
                <div class="day-schedule"
                    style="background-color: var(--gray-light); border-radius: 12px; padding: 18px 18px 14px 18px; box-shadow: 0 2px 10px rgba(0,0,0,0.04); border: 1.5px solid var(--primary-light); min-width: 0; position: relative;">
                    <div class="day-header"
                        style="display:flex;align-items:center;justify-content:space-between;">
                        <div style="display:flex;align-items:center;gap:10px;">
                            <div class="day-off-toggle">
                                <span class="day-off-label"
                                    style="font-size:0.97rem;"></span>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="day-title">Segunda-feira</div>
                        </div>
                        <button class="edit-btn" title="Editar horário"
                            style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--gray);border:none;border-radius:50%;box-shadow:0 1px 4px rgba(0,0,0,0.04);margin-left:8px;transition:background 0.2s;">
                            <i class="fas fa-pen"
                                style="color:#FFD700;font-size:1.1rem;"></i>
                        </button>
                    </div>
                    <div class="time-slots">
                        <input class="input-horario-semana" data-dia="segunda"
                            type="text" value="09:00-18:00">
                        <input class="input-horario-semana" data-dia="terca"
                            type="text" value="09:00-18:00">
                    </div>
                </div>
                <div class="day-schedule"
                    style="background-color: var(--gray-light); border-radius: 12px; padding: 18px 18px 14px 18px; box-shadow: 0 2px 10px rgba(0,0,0,0.04); border: 1.5px solid var(--primary-light); min-width: 0; position: relative;">
                    <div class="day-header"
                        style="display:flex;align-items:center;justify-content:space-between;">
                        <div style="display:flex;align-items:center;gap:10px;">
                            <div class="day-off-toggle">
                                <span class="day-off-label"
                                    style="font-size:0.97rem;"></span>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="day-title">Terça-feira</div>
                        </div>
                        <button class="edit-btn" title="Editar horário"
                            style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--gray);border:none;border-radius:50%;box-shadow:0 1px 4px rgba(0,0,0,0.04);margin-left:8px;transition:background 0.2s;">
                            <i class="fas fa-pen"
                                style="color:#FFD700;font-size:1.1rem;"></i>
                        </button>
                    </div>
                    <div class="time-slots">
                        <input class="input-horario-semana" data-dia="segunda"
                            type="text" value="09:00-18:00">
                        <input class="input-horario-semana" data-dia="terca"
                            type="text" value="09:00-18:00">
                    </div>
                </div>
                <div class="day-schedule"
                    style="background-color: var(--gray-light); border-radius: 12px; padding: 18px 18px 14px 18px; box-shadow: 0 2px 10px rgba(0,0,0,0.04); min-width: 0; position: relative;">
                    <div class="day-header"
                        style="display:flex;align-items:center;justify-content:space-between;">
                        <div style="display:flex;align-items:center;gap:10px;">
                            <div class="day-off-toggle">
                                <span class="day-off-label"
                                    style="font-size:0.97rem;"></span>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="day-title">Quarta-feira</div>
                        </div>
                        <button class="edit-btn" title="Editar horário"
                            style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--gray);border:none;border-radius:50%;box-shadow:0 1px 4px rgba(0,0,0,0.04);margin-left:8px;transition:background 0.2s;">
                            <i class="fas fa-pen"
                                style="color:#FFD700;font-size:1.1rem;"></i>
                        </button>
                    </div>
                    <div class="time-slots">
                        <input class="input-horario-semana" data-dia="segunda"
                            type="text" value="09:00-18:00">
                        <input class="input-horario-semana" data-dia="terca"
                            type="text" value="09:00-18:00">
                    </div>
                </div>
                <div class="day-schedule"
                    style="background-color: var(--gray-light); border-radius: 12px; padding: 18px 18px 14px 18px; box-shadow: 0 2px 10px rgba(0,0,0,0.04); border: 1.5px solid var(--primary-light); min-width: 0; position: relative;">
                    <div class="day-header"
                        style="display:flex;align-items:center;justify-content:space-between;">
                        <div style="display:flex;align-items:center;gap:10px;">
                            <div class="day-off-toggle">
                                <span class="day-off-label"
                                    style="font-size:0.97rem;"></span>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="day-title">Quinta-feira</div>
                        </div>
                        <button class="edit-btn" title="Editar horário"
                            style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--gray);border:none;border-radius:50%;box-shadow:0 1px 4px rgba(0,0,0,0.04);margin-left:8px;transition:background 0.2s;">
                            <i class="fas fa-pen"
                                style="color:#FFD700;font-size:1.1rem;"></i>
                        </button>
                    </div>
                    <div class="time-slots">
                        <input class="input-horario-semana" data-dia="segunda"
                            type="text" value="09:00-18:00">
                        <input class="input-horario-semana" data-dia="terca"
                            type="text" value="09:00-18:00">
                    </div>
                </div>
                <div class="day-schedule"
                    style="background-color: var(--gray-light); border-radius: 12px; padding: 18px 18px 14px 18px; box-shadow: 0 2px 10px rgba(0,0,0,0.04); border: 1.5px solid var(--primary-light); min-width: 0; position: relative;">
                    <div class="day-header"
                        style="display:flex;align-items:center;justify-content:space-between;">
                        <div style="display:flex;align-items:center;gap:10px;">
                            <div class="day-off-toggle">
                                <span class="day-off-label"
                                    style="font-size:0.97rem;"></span>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="day-title">Sexta-feira</div>
                        </div>
                        <button class="edit-btn" title="Editar horário"
                            style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--gray);border:none;border-radius:50%;box-shadow:0 1px 4px rgba(0,0,0,0.04);margin-left:8px;transition:background 0.2s;">
                            <i class="fas fa-pen"
                                style="color:#FFD700;font-size:1.1rem;"></i>
                        </button>
                    </div>
                    <div class="time-slots">
                        <input class="input-horario-semana" data-dia="segunda"
                            type="text" value="09:00-18:00">
                        <input class="input-horario-semana" data-dia="terca"
                            type="text" value="09:00-18:00">
                    </div>
                </div>
                <div class="day-schedule"
                    style="background-color: var(--gray-light); border-radius: 12px; padding: 18px 18px 14px 18px; box-shadow: 0 2px 10px rgba(0,0,0,0.04); border: 1.5px solid var(--primary-light); min-width: 0; position: relative;">
                    <div class="day-header"
                        style="display:flex;align-items:center;justify-content:space-between;">
                        <div style="display:flex;align-items:center;gap:10px;">
                            <div class="day-off-toggle">
                                <span class="day-off-label"
                                    style="font-size:0.97rem;"></span>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="day-title">Sábado</div>
                        </div>
                        <button class="edit-btn" title="Editar horário"
                            style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--gray);border:none;border-radius:50%;box-shadow:0 1px 4px rgba(0,0,0,0.04);margin-left:8px;transition:background 0.2s;">
                            <i class="fas fa-pen"
                                style="color:#FFD700;font-size:1.1rem;"></i>
                        </button>
                    </div>
                    <div class="time-slots">
                        <input class="input-horario-semana" data-dia="segunda"
                            type="text" value="09:00-18:00">
                        <input class="input-horario-semana" data-dia="terca"
                            type="text" value="09:00-18:00">
                    </div>
                </div>
                <div class="day-schedule"
                    style="background-color: var(--gray-light); border-radius: 12px; padding: 18px 18px 14px 18px; box-shadow: 0 2px 10px rgba(0,0,0,0.04); border: 1.5px solid var(--primary-light); min-width: 0; position: relative;">
                    <div class="day-header"
                        style="display:flex;align-items:center;justify-content:space-between;">
                        <div style="display:flex;align-items:center;gap:10px;">
                            <div class="day-off-toggle">
                                <span class="day-off-label"
                                    style="font-size:0.97rem;"></span>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="day-title">Domingo</div>
                        </div>
                        <button class="edit-btn" title="Editar horário"
                            style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--gray);border:none;border-radius:50%;box-shadow:0 1px 4px rgba(0,0,0,0.04);margin-left:8px;transition:background 0.2s;">
                            <i class="fas fa-pen"
                                style="color:#FFD700;font-size:1.1rem;"></i>
                        </button>
                    </div>
                    <div class="time-slots">
                        <input class="input-horario-semana" data-dia="segunda"
                            type="text" value="09:00-18:00">
                        <input class="input-horario-semana" data-dia="terca"
                            type="text" value="09:00-18:00">
                    </div>
                </div>
            </div>
        </section>

        <section class="dashboard-section animate-slide-up">
            <div class="card-header"
                style="display:flex;align-items:center;gap:10px;">
                <h2 class="section-title">
                    <i class="fas fa-calendar-times"></i> Dias Especiais de
                    Folga
                </h2>
                <span class="section-subtitle"
                    style="color:var(--primary-dark);font-size:1.02em;margin-left:8px;">
                    (ex: feriados, eventos, férias)
                </span>
            </div>
            <form id="addSpecialDayOffForm" class="special-day-off-form">
                <div class="special-day-off-fields">
                    <input type="date" id="specialDayOffDate"
                        class="form-control" required>
                    <input type="text" id="specialDayOffReason"
                        class="form-control" placeholder="Motivo (opcional)"
                        maxlength="60">
                </div>
                <button type="submit"
                    class="btn btn-primary special-day-off-btn">
                    <i class="fas fa-plus"></i> Adicionar
                </button>
            </form>
            <div class="special-days-off-list" id="specialDaysOffList">
                <div class="special-day-off-empty" id="specialDayOffEmpty">
                    Nenhum dia de folga especial cadastrado.
                </div>
            </div>
        </section>

        <section class="dashboard-section animate-slide-up">
            <div class="card-header">
                <h2 class="section-title"><i class="fas fa-store"></i>
                    Informações da Barbearia</h2>
                <button class="edit-btn" id="editBarbershopInfoBtn">
                    <i class="fas fa-edit"></i> Editar
                </button>
            </div>

            <!-- Informações da Barbearia - NOVO DESIGN -->
            <div class="barbershop-info-modern"
                id="barbershopInfoDashboard"></div>

            <hr class="section-divider">

            <!-- Escolha de Background -->
            <div class="barbershop-bg-chooser" style="margin: 28px 0 0 0;">
                <div
                    style="font-weight:600;color:var(--primary-dark);margin-bottom:12px;font-size:1.08rem;">
                    Escolha o plano de fundo do agendamento:
                </div>
                <div style="margin-bottom: 15px; text-align: center;">
                    <button type="button" class="btn btn-secondary" id="uploadWallpaperBtn" style="width: 100%;">
                        <i class="fas fa-upload"></i> Fazer Upload de Wallpaper
                    </button>
                    <input type="file" id="uploadWallpaperInput" accept="image/*" style="display: none;">
                </div>
                <div class="bg-chooser-list" id="bgChooserList"></div>
            </div>

            <hr class="section-divider">

            <!-- Profissionais -->
            <div class="professionals-section" style="margin-top:32px;">
                <div
                    style="display:flex;align-items:center;justify-content:space-between;margin-bottom:14px;">
                    <h2 class="section-title" style="font-size:1.18rem;"><i
                            class="fas fa-user-tie"></i> Profissionais</h2>
                    <button id="editProfessionalsBtn" class="edit-btn"
                        style="margin-left:12px;">
                        <i class="fas fa-add"></i> Adicionar
                    </button>
                </div>
                <div id="professionalsContainer" class="professionals-container"
                    style="justify-content: center;">
                    <!-- Profissionais serão listados aqui dinamicamente pelo JS -->
                </div>
            </div>
        </section>

        <section class="dashboard-section animate-slide-up"
            id="alertas-section" style="display:none;">
            <div class="card-header">
                <h2 class="section-title"><i class="fas fa-bullhorn"></i> Alertas e Promoções</h2>
                <button id="addAlertaPromoBtn" class="btn btn-primary" style="margin-left:12px;"><i class="fas fa-plus"></i> Novo Alerta/Promo</button>
            </div>
            <div id="alertasPromosList"></div>
        </section>

        <!-- Modal de criação/edição de alerta/promo -->
<div id="alertaPromoModal" class="modal">
  <div class="modal-content" style="max-width:420px;">
    <div class="modal-header">
      <h3 class="modal-title" id="alertaPromoModalTitle"><i class="fas fa-bullhorn"></i> Novo Alerta/Promo</h3>
      <button class="close-modal" id="closeAlertaPromoModal" type="button">&times;</button>
    </div>
    <form id="alertaPromoForm" autocomplete="off">
      <div class="form-group">
        <label for="alertaPromoTitulo">Título</label>
        <input type="text" class="form-control" id="alertaPromoTitulo" maxlength="80" required>
      </div>
      <div class="form-group">
        <label for="alertaPromoTexto">Texto</label>
        <textarea class="form-control" id="alertaPromoTexto" maxlength="300" required></textarea>
      </div>
      <div class="form-group">
        <label for="alertaPromoImagem">Escolha uma imagem para a promoção</label>
        <div id="promoImageGallery" class="service-image-gallery"></div>
        <input type="hidden" id="alertaPromoImagem" name="imagem">
        <div style="margin-top: 10px; text-align: center;">
          <button type="button" class="btn btn-secondary" id="alertaPromoImageUploadBtn" style="width: 100%;">
            <i class="fas fa-upload"></i> Fazer Upload de Imagem
          </button>
          <input type="file" id="alertaPromoImagemUpload" accept="image/*" style="display: none;">
          <div id="alertaPromoImagemPreview" style="margin-top: 10px;"></div>
        </div>
      </div>
      <div class="form-group">
        <label for="alertaPromoLink">Link externo (opcional)</label>
        <input type="url" class="form-control" id="alertaPromoLink" placeholder="https://...">
      </div>
      <div class="form-group">
        <label><input type="checkbox" id="alertaPromoAtivo" checked> Ativo (exibir no site)</label>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" id="cancelAlertaPromo">Cancelar</button>
        <button type="submit" class="btn btn-primary">Salvar</button>
      </div>
    </form>
  </div>
</div>

    </main>

    <!-- Modals -->

    <!-- Modal de Edição da Barbearia -->
<div id="editBarbershopModal" class="modal" style="display:none;">
    <div class="modal-content" style="max-width:420px;">
        <div class="modal-header">
            <h3 id="modalBarbershopTitle" class="modal-title">
                <i class="fas fa-store"></i> Editar Barbearia
            </h3>
            <button class="close-modal" id="closeEditBarbershopModal" type="button" aria-label="Fechar">&times;</button>
        </div>
            <form id="editBarbershopForm" autocomplete="off">
                <div class="form-group"
                    style="display:flex;flex-direction:column;align-items:center;">
                    <label for="editBarbershopPhoto"
                        style="align-self:flex-start;">Foto</label>
                    <div id="barbershopPhotoPreview"
                        style="width:110px;height:110px;border-radius:50%;overflow:hidden;background:#eee;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 10px #0001;margin-bottom:12px;position:relative;">
                        <img id="barbershopPhotoImg" src alt="Pré-visualização"
                            style="width:100%;height:100%;object-fit:cover;display:none;">
                        <i id="barbershopPhotoIcon" class="fas fa-camera"
                            style="font-size:2.2rem;color:#bbb;display:block;"></i>
                    </div>
                    <input type="file" id="barbershopPhotoInput"
                        accept="image/*" style="display:none;">
                    <input type="text" class="form-control"
                        id="editBarbershopPhoto" maxlength="255"
                        placeholder="Ou cole uma URL de imagem"
                        style="margin-top:10px;">
                    <button type="button" class="btn btn-primary"
                        id="barbershopPhotoBtn"
                        style="margin-top:10px;width:100%;">Adicionar
                        Imagem</button>
                </div>
                <div class="form-group">
                    <label for="editBarbershopName">Nome</label>
                    <input type="text" class="form-control"
                        id="editBarbershopName" required maxlength="100">
                </div>
                <div class="form-group">
                    <label for="editBarbershopWhatsapp">WhatsApp</label>
                    <input type="text" class="form-control"
                        id="editBarbershopWhatsapp" maxlength="30">
                </div>
                <div class="form-group">
                    <label for="editBarbershopInstagram">Instagram</label>
                    <input type="text" class="form-control"
                        id="editBarbershopInstagram" maxlength="100">
                </div>
                <div class="form-group">
                    <label for="editBarbershopAddress">Endereço</label>
                    <input type="text" class="form-control"
                        id="editBarbershopAddress" maxlength="255">
                </div>
                <div class="form-group">
                    <label for="editBarbershopCityState">Cidade/Estado</label>
                    <input type="text" class="form-control"
                        id="editBarbershopCityState" maxlength="100">
                </div>
                <div class="form-group">
                    <label for="editBarbershopNotificationEmail">E-mail para
                        receber notificações</label>
                    <input type="email" class="form-control"
                        id="editBarbershopNotificationEmail" maxlength="150"
                        placeholder="exemplo@dominio.com">
                    <small style="color:#888;font-size:0.97rem;">Este e-mail
                        receberá as notificações de novos agendamentos.</small>
                </div>
                <div id="editBarbershopMsg"
                    style="margin:10px 0 0 0;font-size:0.98rem;"></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary"
                        id="cancelEditBarbershop">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar
                        Alterações</button>
                </div>
            </form>
        </div>
    </div>
    <!-- Modal de adicionar profissional -->
    <div id="addProfessionalModal" class="modal">
        <div class="modal-content" style="max-width:410px;">
            <div class="modal-header">
                <h3 class="modal-title"><i class="fas fa-user-tie"></i>
                    Adicionar Profissional</h3>
                <button class="close-modal" id="closeAddProfessionalModal"
                    type="button">&times;</button>
            </div>
            <div class="modal-body">
                <div class="avatar-upload">
                    <div class="avatar-preview" id="avatarPreview">
                        <i class="fas fa-user"
                            style="font-size: 40px; color: #aaa;"></i>
                    </div>
                    <button class="avatar-upload-btn" id="avatarUploadBtn"
                        type="button">
                        <i class="fas fa-camera"></i> Adicionar Foto
                    </button>
                    <input type="file" id="avatarInput" accept="image/*"
                        style="display: none;">
                </div>
                <div class="form-group">
                    <label class="form-label" for="professionalNameInput">Nome
                        do Profissional</label>
                    <input type="text" class="form-control"
                        id="professionalNameInput" placeholder="Ex: João Silva"
                        maxlength="100">
                </div>
                <div id="addProfessionalMsg"
                    style="margin-top:8px;font-size:0.98rem;"></div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelAddProfessional"
                    type="button">Cancelar</button>
                <button class="btn btn-primary" id="addProfessionalBtn"
                    type="button">Adicionar Profissional</button>
            </div>
        </div>
    </div>

    <!-- Modal de Notificações -->
    <div id="notificationsModal" class="modal">
        <div class="modal-content" style="max-width:420px;">
            <span class="close-modal"
                id="closeNotificationsModal">&times;</span>
            <div class="modal-header">
                <h3 class="modal-title"><i class="fas fa-bell"></i> Notificações</h3>
                <button class="close-modal" id="closeNotificationsModal" type="button">&times;</button>
            </div>
            <div id="notificationsList"
                style="display:flex;flex-direction:column;gap:16px;min-height:80px;"></div>
        </div>
    </div>

    <!-- Modal de edição de horários -->
<div id="horarioModal" class="modal" style="display:none;">
    <div class="modal-content" style="max-width:420px;">
        <div class="modal-header">
            <h3 id="modalHorarioTitle"class="modal-title">
            </h3>
            <button class="close-modal" id="closeHorarioModal" type="button" aria-label="Fechar">&times;</button>
        </div>
        <form id="horarioForm">
            <input type="hidden" id="modalDiaSemana">
            <div id="turnosContainer"></div>
            <button type="button" id="addTurnoBtn" class="btn btn-primary" style="width:100%;margin:14px 0 10px 0; background-color: var(--white); color: var(--gray-dark);">
                <i class="fas fa-plus"></i> Adicionar turno
            </button>
            <button type="submit" class="btn btn-primary" style="width:100%;">Salvar</button>
        </form>
    </div>
</div>
    <!-- Modal de Alterar Senha -->
    <div id="changePasswordModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" aria-label="Fechar" type="button"
                cursor:pointer;z-index:2;">&times;</button>
            <div class="modal-header" style="padding-right:32px;">
                <h3 class="modal-title"><i class="fas fa-key"></i> Alterar Senha
                </h3>
            </div>
            <div class="modal-body">
                <form id="changePasswordForm" autocomplete="off">
                    <div class="form-group senha-group">
                        <input type="password" class="form-control"
                            id="currentPassword" placeholder="Senha atual"
                            required>
                    </button>
                </div>
                <div class="form-group senha-group">
                    <input type="password" class="form-control" id="newPassword"
                        placeholder="Nova senha" required>
                    <button type="button" class="password-eye-btn" tabindex="-1"
                        aria-label="Mostrar senha">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
                <div class="form-group senha-group">
                    <input type="password" class="form-control"
                        id="confirmPassword" placeholder="Confirmar nova senha"
                        required>
                    <button type="button" class="password-eye-btn" tabindex="-1"
                        aria-label="Mostrar senha">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
            </form>
            <div id="changePasswordError"
                style="color:var(--primary-dark);margin-top:8px;display:none;font-size:0.98rem;"></div>
            <div id="changePasswordSuccess"
                style="color:var(--success);margin-top:8px;display:none;font-size:0.98rem;"></div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" type="button">Cancelar</button>
            <button class="btn btn-primary" type="submit"
                form="changePasswordForm">Salvar Nova Senha</button>
        </div>
    </div>
</div>

<!-- Modal de adicionar serviços -->
<div id="addServiceModal" class="modal">
    <div class="modal-content" style="max-width: 410px;">
        <div class="modal-header">
            <h3 class="modal-title"><i class="fas fa-plus"></i> Adicinar Serviço
            </h3>
            <button class="close-modal"
                id="closeaddtServiceModal">&times;</button>
        </div>
        <form id="addServiceForm">
            <div class="form-group">
                <label class="form-label" for="addServiceName">Nome do
                    serviço</label>
                <input type="text" class="form-control" id="addServiceName"
                    required>
            </div>
            <div class="form-group">
                <label class="form-label" for="addServiceTime">Tempo
                    estimado</label>
                <input type="text" class="form-control" id="addServiceTime"
                    placeholder="Ex: 30min" required>
            </div>
            <div class="form-group">
                <label class="form-label" for="addServicePrice">Preço
                    (R$)</label>
                <input type="number" step="0.01" min="0" class="form-control"
                    id="addServicePrice" required>
            </div>
            <div class="form-group">
                <label class="form-label">Escolha uma imagem para o
                    serviço</label>
                <div id="serviceImageGallery"
                    class="service-image-gallery"></div>
                <input type="hidden" id="addServiceImage" name="imagem">
                <div style="margin-top: 10px; text-align: center;">
                    <button type="button" class="btn btn-secondary" id="addServiceImageUploadBtn" style="width: 100%;">
                        <i class="fas fa-upload"></i> Fazer Upload de Imagem
                    </button>
                    <input type="file" id="addServiceImageUpload" accept="image/*" style="display: none;">
                    <div id="addServiceImagePreview" style="margin-top: 10px;"></div>
                </div>
            </div>
            <div class="modal-footer">
                <div id="addServiceMsg"
                    style="margin-bottom:10px;font-size:0.98rem; justify-content: center; align-items: center; display: flex"></div>
                <button type="submit" class="btn btn-primary">Salvar
                    serviço</button>
            </div>
        </form>
    </div>
</div>

<!-- Modal de edição de serviço -->
<div id="editServiceModal" class="modal">
    <div class="modal-content" style="max-width: 410px;">
        <div class="modal-header">
            <h3 class="modal-title"><i class="fas fa-pen"></i> Editar Serviço
            </h3>
            <button class="close-modal"
                id="closeEditServiceModal">&times;</button>
        </div>
        <form id="editServiceForm" autocomplete="off">
            <input type="hidden" id="editServiceId">
            <div class="form-group">
                <label class="form-label" for="editServiceName">Nome do
                    serviço</label>
                <input type="text" class="form-control" id="editServiceName"
                    required maxlength="100">
            </div>
            <div class="form-group">
                <label class="form-label" for="editServiceTime">Tempo
                    estimado</label>
                <input type="text" class="form-control" id="editServiceTime"
                    required maxlength="30">
            </div>
            <div class="form-group">
                <label class="form-label" for="editServicePrice">Preço
                    (R$)</label>
                <input type="number" class="form-control" id="editServicePrice"
                    required min="0" step="0.01">
            </div>
            <div class="form-group">
                <label class="form-label">Escolha uma imagem para o
                    serviço</label>
                <div id="editServiceImageGallery"
                    class="service-image-gallery"></div>
                <input type="hidden" id="editServiceImage" name="imagem">
                <div style="margin-top: 10px; text-align: center;">
                    <button type="button" class="btn btn-secondary" id="editServiceImageUploadBtn" style="width: 100%;">
                        <i class="fas fa-upload"></i> Fazer Upload de Imagem
                    </button>
                    <input type="file" id="editServiceImageUpload" accept="image/*" style="display: none;">
                    <div id="editServiceImagePreview" style="margin-top: 10px;"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary"
                    id="cancelEditService">Cancelar</button>
                <button type="submit" class="btn btn-primary">Salvar
                    Alterações</button>
            </div>
        </form>
        <div id="editServiceMsg"
            style="margin-top:10px;font-size:0.98rem;"></div>
    </div>
</div>

<div id="allAppointmentsModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">Todos os Agendamentos</h3>
            <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
            <div class="tab-container">
                <div class="tabs">
                    <div class="tab active" data-tab="today">Hoje</div>
                    <div class="tab" data-tab="week">Esta Semana</div>
                    <div class="tab" data-tab="month">Este Mês</div>
                </div>

                <div class="tab-content active" id="today-tab">
                    <div class="appointments-list">
                        <!-- Agendamentos de hoje seriam listados aqui -->
                    </div>
                </div>

                <div class="tab-content" id="week-tab">
                    <div class="appointments-list">
                        <!-- Agendamentos da semana seriam listados aqui -->
                    </div>

                    <div class="tab-content" id="month-tab">
                        <div class="appointments-list">
                            <!-- Agendamentos do mês seriam listados aqui -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary close-modal">Fechar</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="copyright">
            &copy; 2025 NaRégua. Todos os direitos reservados.
        </div>
    </footer>

    <script src="/js/upload-helper.js"></script>
    <script src="js/dashboard.js"></script>
</body>

</html>